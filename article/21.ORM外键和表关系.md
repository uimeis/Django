### ForeignKey

```python
class Category(models.Model):
    name = models.CharField(max_length=100)

class Movie(models.Model):
    category = models.ForeignKey('Category', on_delete=models.CASCADE)
    id = models.AutoField(primary_key=True)
    name = models.CharField(max_length=100, null=False)
    star = models.CharField(max_length=100, null=False)
```
上面的代码，`Category`表和`Movie`表建立了外键关系。`on_delete`设置了删除方式，`CASCADE`是级联删除，意思是分类删除，对应的电影也要删除。`on_delete`的设置是`Category`影响`Movie`的意思，反过来不影响。

### 引用其他app的外键
如另一个`app`叫`author`，里边的`model`名叫`Author`。

```python
class Movie(models.Model):
    category = models.ForeignKey('Category', on_delete=models.CASCADE)
    author = models.ForeignKey('author.Author', on_delete=models.CASCADE, null=True)
    id = models.AutoField(primary_key=True)
    name = models.CharField(max_length=100, null=False)
    star = models.CharField(max_length=100, null=False)
```
* 注意，`null=True`意思是，如果先建立的表中有数据，在添加新表时，应该指定之前的数据**允许为空**。

### 外键删除操作
`CASCADE`级联删除
`PROTECT`受保护的数据
`SET_NULL`为空，注意，如果设置此方式，首先这个字段要允许为空`null=True`。
`SET_DEFAULT`默认值，设置此方式，必须指定默认值`default=Category.objects.get(pk=1)`。

